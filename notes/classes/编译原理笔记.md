编译原理笔记by以禾

****

## 第二章 文法和语言

### 一、描述语言的工具

#### 字母表与符号

##### 字母表

+ 非空的有穷集合
+ 用$V或\sum$表示
+ 如$V=\{a, b, ..., z\}, \sum=\{+,*,1, 2, ..., 9, 0, (, )\}$等
+ 符号或符号串

##### 符号

+ 最基本、不可分的单位
+ 不具备语法意义（**与单词作区分**）

##### 符号串

+ 字母表上的符号组成的有穷序列
+ 用$\alpha,\beta,\gamma...表示$
+ **空串：$\epsilon$**

##### 句子和语言

+ 句子：字母表上元素按照某种规则组成的串的集合
+ 语言：字母表上**句子的集合**，用L表示

+ 句子集合：A={a=b,if a then b, ...}

#### 符号串集合的运算

##### 连接（乘积）

+ 顺序很重要，$\alpha\beta \ne \beta\alpha$
+ 集合的乘积即相应每个元素的互相排列组合（**区分顺序**）

##### 方幂（次方）

+ 与自身的乘积
+ $对于集合A,A^0={\epsilon},A^1=A,A^2=AA,...$

##### 闭包（closure）

+ 某字母表可生成的所有符号串的集合
+ **集合中任意个元素的任意运算结果都在集合内（运算封闭）**
+ 用$A^*或closure(A)$表示
+ **$A^*=A^0 \cup A^1 \cup A^2 \cup ...$**

##### 正闭包（positive closure)

+ 闭包减去空串
+ 用$A^+$表示
+ $A^+ = A^1\cup A^2 \cup ... = A^*-\{\epsilon\}$

> 语言是**字母表上正闭包的真子集**

+ 任何一个程序（字符串）时字母表上闭包里的一个元素（**任意长度的字符串都在字母表闭包里**）



### 二、文法概念

>  文法（或语法grammar)是描述语言的形式规则
>
> 采用**形式语言**的方式表示文法
>
> + 用数字或公式定义语言

#### 标识符文法 = （非终结符，终结符，产生式，开始符号）

##### 产生式(Productions)

+ 又称规则、重写规则、生成式
+ 定义了符号串之间关系的一组语法规则
+ 采用BNF(**Backus-Naur Form**)等形式，如：$A\rarr \alpha$,读作**A产生$\alpha$**，或A定义$\alpha$
  + **左部或右部只能有一个字母**
  + 箭头可用:=或::=表示
+ 产生式的集合一般用P表示

##### 开始符号（start symbol）

+ 又称识别符
+ 第一个产生式左侧的非终止符
+ 用S表示

##### 非终结符（non-terminals)

+ 出现在产生式箭头左侧的符号（也可以在右边）
+ 用<...>表示一种语法概念，或大写字母
+ **用$V_N$表示非终结符集合**

##### 终结符（terminals）

+ 语言中不可再分割的符号串
+ j产生式箭头**右侧的小写字母、符号、单词**的集合
+ **用$V_T$表示终结符集合**



##### 文法的形式定义

+ 文法$G={V_N,V_T,P,S},其中V_N=\{A,B,...\},V_T=\{a,b,...,+,*,...\}$

  P由下列产生式组成：

  1. $S\rarr...$
  2. ...

+ **可缩写为：**（只要知道了开始符合产生式就能知道终结符和非终结符）

  G[S]：

  1. $S\rarr...$
  2. 



#### 推导与规约

##### 推导(derive)

+ 由开始符号起，通过**替换掉非终结符**，最终得到由终结符组成的**字符串**的过程
+ 规范推导：最左推导或最右推导（只替换左或右）

+ 推导符号：
  + **直接推导**：$\Rarr$
  + **一步以上推导**：$\Rarr^+$
  + **零步以上推导**：$\Rarr^*$

##### 规约(reduce)

+ 推导的逆过程
+ 由字符串开始，反推回开始符号
+ 规范规约，符号同推导



#### 句型、句子、语言时

##### (规范)句型：(规范)推导的中间结果

+ 从开始符号起，包括零步在内，每一步推导得到的符号串

##### 句子：仅含终结符的句型

+ 推导的最终结果

##### 语言：所有句子的集合

+ 推导出的句子的集合





#### 文法的类型



