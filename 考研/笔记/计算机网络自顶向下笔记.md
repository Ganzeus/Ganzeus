《Computer Networking A Top-Down Approach》配合中科大郑烇老师视频

****

## Chapter 1 Computer Networks and the Internet

### 1.1 What is the Internet?

#### 描述（从构成的角度）

##### 网络：结点和边

一般地，方形代表主机结点，即数据传送的源头。圆形代表路由器交换机。

> End Systems are connected together by a network of **communication links** and **packet switches**.



##### 链路：将结点连在一起的边

> The sequence of communication links and packet switches traversed by a packet from the sending end system
>
> to the receiving end system is known as a **route** or **path** through the network



#### what is a protocol？

##### 协议：对等层的实体在通信过程中应该遵守的规则集合

> A protocol defines the **format** and the **order** of messages exchanged between two or more communicating entities,
>
> as well as the **actions** taken on the transmission and/or receipt of a message or other event.

##### 协议规范了：

+ 语法
+ 语义
+ 格式
+ 时序
+ 动作



#### 从服务角度看Intenet

##### 是使用通信设施进行通信的分布式应用

+ Web、VoIP、email、游戏、电子商务、社交网络...

##### 为分布式应用提供服务的基础设施

通信基础设施为apps提供API

+ 将发送和接收数据的apps与互联网连接起来
+ 为apps应用提供服务选择，类似于邮政服务





#### 网络结构

##### 网络边缘：

+ 主机
+ 应用程序（客户端和服务器）

##### 网络核心：

+ 互联着的路由器
+ 网络的网络

##### 接入网、物理媒介：

+ 有线或无线通信链路



### 1.2 The Network Edge

#### 两种模式

##### End System:

> End Systems are also referred to as hosts.
>
> Hosts are sometimes further divided into two categories: **clients and servers**.

+ 运行应用程序
+ 如Web、email
+ 在网络“边缘”

##### C/S模式（客户端/服务器）

+ 客户端向服务器请求、接收服务
+ 如Web浏览器/服务器；email客户端/服务器

##### P2P模式（对等模式）

+ 很少（甚至没有）专门的服务器
+ 如Gnutella、KaZaA、Emule



#### 协议

##### TCP-Transmission Control Protocol（传输控制协议）

+ Internet上**面向连接**的服务

**TCP提供的服务**

+ **可靠地**、按顺序地传送数据

  确认和重传

+ 流量控制：避免发送速度太快，接收方来不及处理

+ 拥塞控制：当网络拥塞时，发送方降低发送速率



##### UDP-User Datagram Protocol（用户数据报协议）

+ **无连接**
+ 不可靠数据传输
+ 无流量控制
+ 无拥塞控制



##### 使用TCP的应用：

+ HTTP（Web）
+ FTP(文件传送)
+ SMTP（email）

##### 使用UDP的应用：

+ 流媒体
+ 远程会议
+ DNS
+ Internet电话





### 1.3 The Network Core

**网络核心：路由器的网状网络**

**基本问题：数据怎样通过网络进行传输？**

#### Circuit Switching（线路交换）

> Before the sender can send the information, the network must establish a connection between the sender and ther receiver.
> This connection is called a **circuit**.

+ 为每个呼叫预留一条专有电路，如**电话网**
+ **独享资源**:每个呼叫一旦建立起来就能够保证性能
+ 如果呼叫没有数据发送，被分配的资源就会被浪费
+ 通常被传统电话网采用

 <img src="../../img/typora-user-images/image-20220529200458891.png" alt="image-20220529200458891" style="zoom: 25%;" />

> Each of these links has four circuits, so that each link can support four simultaneous connections.
>
> In order for Host A to communicate with Host B, the network must **first reserve one citcuit on each of two links.**

+ 需要为呼叫预留端-端资源



##### 网络资源（如带宽）分片

+ 频分（Frequency-division multiplexing)FDM
+ 时分（Time-division multiplexing）TDM
+ 波分（Wave-division multiplexing）WDM



##### 线路交换不适合计算机时间的通信

+ 建立连接时间长
+ 计算机之间的通信具有突发性，如果用线路交换，浪费的时间片较多
  + 即使这个呼叫没有数据传递，其所占据的时间片也不能被别的呼叫使用（**不共享**）

+ 可靠性不高



#### Packet Switching（分组交换）：

> breaks long messages into smaller chunks of data known as **packets**

+ 将要传送的数据分成一个个单位：Packet
+ 将分组从一个路由器传到相邻路由器（hop)，一段段最终从源端传到目标端
+ 每段：采用链路的最大传输能力（带宽）

<img src="../../img/typora-user-images/image-20220529203537642.png" alt="image-20220529203537642" style="zoom: 33%;" /> 

##### 以分组为单位存储-转发方式

+ 网络带宽资源不在分为一个个片，传输时使用**全部带宽**
+ 主机之间传输的数据被分为一个个packet
+ **资源共享，按需使用**

##### Store-and-Forward Transmission

+ 转发之前结点必须**收到整个packet**
+ 延迟比线路交换大
+ 存在排队延时和丢失（Queuing Delays and Packet Loss)



##### Queuing Delays and Packet Loss

packet到达时发现链路在忙着输出前面的packet，即**到达速率>链路输出速率**:

+ packet将会缓存到输出队列，等待输出
+ 输出队列满了，就会抛弃后来的分组，出现Packet Loss



#### 网络核心的关键功能：路由、转发

##### 路由：决定分组采用的源到目标的路径

+ 路由算法

> Each router has a **forwarding table（路由表）** that maps destination addresses(or 
> portion s of the destination addresses) to that router's outbound links.

##### 转发：将分组从路由器的输入链路转移到输出链路





##### 



### 1.4 Delay, Loss, and Throughput in Packet-Switched Networks







### 1.5 Protocol Layers and Their Service Models





